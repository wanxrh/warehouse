define("goodsList",["jquery","common/js/seajs/cb_all"],function(require,exports,module){var $=require("jquery");require("common/js/seajs/cb_all"),exports.init=function(){function a(){var a=$(this),s=a.parents("td").data("id"),t=$(this).data("isshow"),o=[];return s?o.push(s):$(".checkitem:checked").each(function(){var a=$(this).val();o.push(a)}),0!=o.length&&void $.ajax({type:"POST",url:"/goods/up_goods",dataType:"json",data:{goods_id:o,if_show:t},success:function(s){s.success?a.hasClass("box_btn")?(a.toggleClass("close"),a.data("isshow",t>0?0:1)):(alert(s.data),window.location.reload()):alert(s.data)}})}function s(){var a=[],s=($(this),$(this).data("id"));if(s?a.push(s):$(".checkitem:checked").each(function(){var s=$(this).val();a.push(s)}),0==a.length)return!1;var t=confirm("确认删除商品信息吗？");return!!t&&void $.ajax({type:"POST",url:"/goods/del_goods",dataType:"json",data:{goods_id:a},success:function(a){a.success?(alert(a.data),window.location.reload()):alert(a.data)}})}$(".J_btn").on("click",a),$(".box_btn").on("click",a),$(".J_del").on("click",s),$("#all").checkAll("input[type=checkbox]")},exports.init()}),seajs.use("goodsList");